/*
 * jQuery Render Plugin v1.0pre
 * Optimized version of jQuery Templates, for rendering to string
 * http://github.com/BorisMoore/jsrender
 */
window.JsViews||window.jQuery&&jQuery.jsViews||function(d,f){var a,c=d.jQuery,r=d.document;if(c){a=c;a.fn.extend({render:function(d,c,b){return a.render(this[0],d,c,b)},template:function(c,b){return a.template(c,this[0],b)}})}else d.JsViews=d.$=a={extend:function(c,b){if(b===f){b=c;c=a}for(var d in b)c[d]=b[d];return c},map:function(c,f,h){var d,e=[],b=0,g=c.length;if(a.isArray(c))for(;b<g;b++){d=f(c[b],b,h);d!=null&&e.push(d)}return e.concat.apply([],e)},each:function(a,d){var b,c=0,e=a.length;if(e===f||typeof a==="function")for(b in a)d.call(a[b],b,a[b]);else for(;c<e;)d.call(a[c],c,a[c++]);return a},isArray:Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"}};var s=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,k=0,l=[],q=0,v="$view.calls($view,__,$1,$2);__=[];",u=["call=$view.calls();__=call[1].concat($view.","(call,__));"],h={"&":"&amp;","<":"&lt;",">":"&gt;"},n=/[\x00"&'<>]/g;function o(a){return h[a]||(h[a]="&#"+a.charCodeAt(0)+";")}function p(d,b){var c=d.parent&&d.parent.ctx;d.ctx=b&&b===c?c:(d._ctx=b,c?a.extend({},c,b):b)}function e(g,c,e,h,i){var d,b=this,f;b.parent=c;c=c||{};f=c.ctx;a.extend(b,{path:i||"",data:h||c.data||{},tmpl:e||null});p(b,g);if(e){d=b.tmpl(a,b);b._ctnt=!!a.view&&a.isArray(c.data)?[].concat("<!--item-->",d,"<!--/item-->"):d;b.key=++k}}function t(b){try{return a(b)}catch(c){}return b}a.extend({registerTag:function(a,b){m[a]=b},render:function(d,f,e,b,c){var a=j(d,f,e,b,c);a=!c&&b&&d?a:g(b,a).join("");k=0;return a},template:function(d,b){if(b){if(typeof b==="string")b=i(b);else if(c&&b instanceof a)b=b[0];if(b){if(c&&b.nodeType)b=a.data(b,"tmpl")||a.data(b,"tmpl",i(b.innerHTML));a.template[b._name=b._name||d||"_"+q++]=b}return b}return d?typeof d!=="string"?a.template(null,d):a.template[d]||a.template(null,s.test(d)?d:t(d)):null},encode:function(a){return a===f?"":String(a).replace(n,o)},tmplSettings:{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($view.nest($1,$2s,$2));}"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},":":{open:"$1"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},view:{tmpl:null,nodes:[],calls:function(a){if(!a)return l.pop();l.push(arguments)},nest:function(d,a,c,b){return j(d,c,b,this,a)}}}});var m=a.tmplSettings.tag;e.prototype=a.tmplSettings.view;function j(b,c,h,f,i){var g,d;if(b){b=a.template(b);if(typeof b!=="function")b=a.template[b]||a.template(null,b)}if(!b)return null;if(typeof c==="function")c=c.call(f||{});if(a.isArray(c)){g=new e(h,f,null,c,i);d=a.map(c,function(a){return a?new e(h,g,b,a,"*"):null})}else d=[new e(h,f,b,c,i)];return a.view?[].concat("<!--tmpl("+(g||d[0]).path+") "+b._name+"-->",d,"<!--/tmpl-->"):d}function g(c,b){return b?a.map(b,function(a){return typeof a==="string"?a:g(a,a._ctnt)}):c||[]}function i(c){var a=/\$\{([^\}]*)\}/g,d="var call,__=[],$data=$view.data,$ctx=$view.ctx||{};with($data){__.push('"+c.replace(/^\s+/,"").replace(/\s+$/,"").replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(a,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*)\))?\s*\}\}/g,function(l,j,k,d,a,c,e){var i=m[k],h,f,g;h=i._default||[];if(c&&!/\w$/.test(a)){a+=c;c=""}if(a){a=b(a);e=e?","+b(e)+")":c?")":"";f=c?a.indexOf(".")>-1?a+b(c):"("+a+").call($view"+e:a;g=c?f:"(typeof("+a+")==='function'?("+a+").call($view):("+a+"))"}else g=f=h.$1||"null";d=b(d);return"');"+i[j?"close":"open"].split("$notnull_1").join(a?"typeof("+a+")!=='undefined' && ("+a+")!=null":"true").split("$1a").join(g).split("$2s").join("'"+d+"'").split("$1").join(f).split("$2").join(d||h.$2||"")+"__.push('"})+"');}return __;";return new Function("$","$view",d)}function b(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}}(window);